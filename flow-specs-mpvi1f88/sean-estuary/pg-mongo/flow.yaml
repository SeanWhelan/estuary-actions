---
captures:
  sean-estuary/pg-mongo/source-postgres:
    autoDiscover:
      addNewBindings: true
      evolveIncompatibleCollections: true
    endpoint:
      connector:
        image: "ghcr.io/estuary/source-postgres:v3"
        config: source-postgres.config.yaml
    bindings:
      - resource:
          _meta:
            path:
              - public
              - customers
          mode: ""
          namespace: public
          stream: customers
        target: sean-estuary/pg-mongo/public/customers
        backfill: 1
      - resource:
          _meta:
            path:
              - public
              - order_items
          namespace: public
          stream: order_items
        target: sean-estuary/pg-mongo/public/order_items
        backfill: 1
      - resource:
          _meta:
            path:
              - public
              - orders
          namespace: public
          stream: orders
        target: sean-estuary/pg-mongo/public/orders
        backfill: 1
      - resource:
          _meta:
            path:
              - public
              - products
          namespace: public
          stream: products
        target: sean-estuary/pg-mongo/public/products
        backfill: 1
    shards:
      disable: true
      ringBufferSize: 65536
